# üê≥ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Docker

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- **Docker Desktop** (Windows/macOS) –∏–ª–∏ **Docker Engine + Docker Compose** (Linux)
- **NVIDIA GPU** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA 11.8+
- **NVIDIA Container Toolkit** (–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ GPU –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- –ú–∏–Ω–∏–º—É–º **8 GB RAM** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16 GB)
- **10 GB** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU:
```bash
nvidia-smi
# –î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ GPU –∏ –≤–µ—Ä—Å–∏–∏ CUDA
```

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤

#### 2.1. –ú–æ–¥–µ–ª–∏ ML

**–í–∞–∂–Ω–æ:** –ú–æ–¥–µ–ª–∏ –ù–ï —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è —Å–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–∞ –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –Ω–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ.

–í—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑ –±–µ–∑ –º–æ–¥–µ–ª–µ–π
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑ –º–æ–¥–µ–ª–µ–π (Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è)
- ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚ùå **–ù–ï —Å–º–æ–∂–µ—Ç–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ** –±–µ–∑ –º–æ–¥–µ–ª–µ–π

–ö–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –º–æ–¥–µ–ª–∏:
–ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ (—á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ API). –ï—Å–ª–∏ –º–æ–¥–µ–ª–µ–π –Ω–µ—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞–Ω–∞–ª–∏–∑–∞.

**–î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `checkpoints/` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ –º–æ–¥–µ–ª–∏:

```
checkpoints/
‚îú‚îÄ‚îÄ best_model_advanced.pt         # –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å
‚îî‚îÄ‚îÄ anomaly_detector_advanced.pt   # –î–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª–∏–π
```

üí° **–°–æ–≤–µ—Ç:** –ï—Å–ª–∏ —É –≤–∞—Å –µ—â–µ –Ω–µ—Ç –º–æ–¥–µ–ª–µ–π, –º–æ–∂–µ—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Docker, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç. –ú–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ –∏—Ö –≤ –ø–∞–ø–∫—É `checkpoints/` –Ω–∞ —Ö–æ—Å—Ç–µ (–æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±–ª–∞–≥–æ–¥–∞—Ä—è volume).

#### 2.2. –§–∞–π–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

**Windows PowerShell:**
```powershell
Copy-Item .env.example .env
```

**Linux/macOS:**
```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∏–∑–º–µ–Ω–∏—Ç–µ `SECRET_KEY`:

```env
# Flask Configuration
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª—é—á –∫–æ–º–∞–Ω–¥–æ–π –Ω–∏–∂–µ
SECRET_KEY=–≤–∞—à-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-64-—Å–∏–º–≤–æ–ª–∞

# Application port
PORT=5000

# Flask mode
FLASK_ENV=production

# Debug mode
FLASK_DEBUG=False

# Host to bind
FLASK_HOST=0.0.0.0
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY:**
```bash
python -c "import secrets; print(secrets.token_hex(32))"
```

#### 2.3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–æ–Ω–∏ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é):

```bash
mkdir -p checkpoints results uploads logs auth
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

#### Windows:

1. –°–∫–∞—á–∞–π—Ç–µ [Docker Desktop –¥–ª—è Windows](https://www.docker.com/products/docker-desktop/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop (WSL 2 —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop** –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell/—Ç–µ—Ä–º–∏–Ω–∞–ª
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
   ```powershell
   docker --version
   docker compose version
   ```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** GPU –≤ Docker Desktop —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ WSL 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA –¥–ª—è Windows.

#### Linux (Ubuntu/Debian):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Engine
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –í—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
docker --version
docker compose version
```

#### macOS:

1. –°–∫–∞—á–∞–π—Ç–µ [Docker Desktop –¥–ª—è Mac](https://www.docker.com/products/docker-desktop/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** macOS –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç NVIDIA GPU –≤ Docker. –ü—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç GPU!

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NVIDIA Container Toolkit

#### Linux (Ubuntu/Debian):

```bash
distribution=$(. /etc/os-release;echo $ID$VERSION_ID)
curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -
curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list

sudo apt-get update && sudo apt-get install -y nvidia-container-toolkit
sudo systemctl restart docker
```

#### Windows:

Docker Desktop –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GPU —á–µ—Ä–µ–∑ WSL 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA –¥–ª—è Windows.

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ GPU –≤ Docker:

```bash
docker run --rm --gpus all nvidia/cuda:11.8.0-base-ubuntu22.04 nvidia-smi
```

–î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ GPU.

### 5. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –®–∞–≥ 1: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd –ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É/d3
```

#### –®–∞–≥ 2: –°–æ–±–µ—Ä–∏—Ç–µ Docker –æ–±—Ä–∞–∑

```bash
# –í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Docker (–±–µ–∑ –¥–µ—Ñ–∏—Å–∞):
docker compose build

# –ò–ª–∏ –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö (—Å –¥–µ—Ñ–∏—Å–æ–º):
docker-compose build
```

–≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å **10-20 –º–∏–Ω—É—Ç** –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–µ (–∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).

#### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
# –í —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:
docker compose up -d

# –ò–ª–∏ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:
docker compose up
```

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
docker compose ps
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `d3-web-1` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `Up`.

#### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
docker compose logs -f
```

–ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
–ó–∞–ø—É—Å–∫ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ http://0.0.0.0:5000
Debug —Ä–µ–∂–∏–º: False
```

#### –®–∞–≥ 6: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:5000`

### 6. –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker compose exec web python create_admin.py

# –ò–ª–∏ (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Docker):
docker-compose exec web python create_admin.py
```

**–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- Email: `admin@admin.com`
- Username: `admin`
- Password: `admin123`

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å!

### 7. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
docker compose logs -f
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å—Ç—Ä–æ–∫:
docker compose logs --tail=100
```

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
docker compose down
```

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes (‚ö†Ô∏è —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ):
```bash
docker compose down -v
```

#### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
docker compose restart
```

#### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
```bash
docker compose build --no-cache
docker compose up -d
```

#### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
```bash
# –û—Ç–∫—Ä—ã—Ç—å shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
docker compose exec web bash

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:
docker compose exec web python create_admin.py
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPU:
```bash
docker compose exec web nvidia-smi
```

### 8. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –ü—Ä–æ–±–ª–µ–º–∞: "docker: command not found" –∏–ª–∏ "docker –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª/PowerShell
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PATH: `echo $env:PATH` (Windows) –∏–ª–∏ `echo $PATH` (Linux/macOS)

#### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot connect to the Docker daemon"

**–†–µ—à–µ–Ω–∏–µ:**
- Windows: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop
- Linux: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `sudo systemctl status docker` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ: `sudo systemctl start docker`

#### –ü—Ä–æ–±–ª–µ–º–∞: "nvidia-container-cli: requirement error: unsatisfied condition"

**–†–µ—à–µ–Ω–∏–µ:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ NVIDIA Container Toolkit (—Å–º. —Ä–∞–∑–¥–µ–ª 4)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker: `sudo systemctl restart docker`

#### –ü—Ä–æ–±–ª–µ–º–∞: "GPU is not available" –≤ –ª–æ–≥–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GPU: `nvidia-smi`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –≤ Docker: `docker run --rm --gpus all nvidia/cuda:11.8.0-base-ubuntu22.04 nvidia-smi`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `docker-compose.yml` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–æ—Å—Ç—É–ø –∫ GPU

#### –ü—Ä–æ–±–ª–µ–º–∞: "–ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã" –∏–ª–∏ "FileNotFoundError" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞–Ω–∞–ª–∏–∑–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –º–æ–¥–µ–ª–µ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `checkpoints/` –Ω–∞ —Ö–æ—Å—Ç–µ:
   - `checkpoints/best_model_advanced.pt`
   - `checkpoints/anomaly_detector_advanced.pt`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ volume –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ `docker-compose.yml` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ `./checkpoints:/app/checkpoints`)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker compose restart`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–µ–π: `docker compose logs -f web`

**–ï—Å–ª–∏ —É –≤–∞—Å –µ—â–µ –Ω–µ—Ç –º–æ–¥–µ–ª–µ–π:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å), –Ω–æ –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø–æ–∑–∂–µ, –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ —Ñ–∞–π–ª—ã –≤ `checkpoints/` –Ω–∞ —Ö–æ—Å—Ç–µ

#### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 5000 —É–∂–µ –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`:
```yaml
ports:
  - "8080:5000"  # –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç:–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç
```

–ò –æ—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:8080`

#### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏–ª–∏ –æ—à–∏–±–∫–∏ –ø–∞–º—è—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM (–º–∏–Ω–∏–º—É–º 8 GB, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16 GB)
2. –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ GPU
3. –£–º–µ–Ω—å—à–∏—Ç–µ `batch_size` –≤ `config.yaml` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

### 9. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ volumes (–¥–∞–Ω–Ω—ã–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ –Ω–∞ —Ö–æ—Å—Ç–µ)

Docker Compose –º–æ–Ω—Ç–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

- `./checkpoints` ‚Üí `/app/checkpoints` - ML –º–æ–¥–µ–ª–∏
- `./results` ‚Üí `/app/results` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
- `./uploads` ‚Üí `/app/uploads` - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
- `./logs` ‚Üí `/app/logs` - –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `./auth` ‚Üí `/app/auth` - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

‚ö†Ô∏è –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### 10. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ï—Å–ª–∏ –≤—ã –æ–±–Ω–æ–≤–∏–ª–∏ –∫–æ–¥:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑
docker compose build --no-cache

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
docker compose up -d
```

–ú–æ–¥–µ–ª–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏ (–µ—Å–ª–∏ –≤—ã –Ω–µ —É–¥–∞–ª–∏–ª–∏ volumes).

---

## üéì –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

–í—ã –º–æ–∂–µ—Ç–µ –æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–∞—Ç–∞—Å–µ—Ç MINI-RGBD.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—É—á–µ–Ω–∏–µ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –î–∞—Ç–∞—Å–µ—Ç MINI-RGBD –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∏–∂–µ)
- NVIDIA GPU —Å –º–∏–Ω–∏–º—É–º 8GB VRAM
- –î–∞—Ç–∞—Å–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞:
```
MINI-RGBD_web/
‚îú‚îÄ‚îÄ 01/
‚îÇ   ‚îî‚îÄ‚îÄ rgb/
‚îÇ       ‚îú‚îÄ‚îÄ syn_0001.png
‚îÇ       ‚îú‚îÄ‚îÄ syn_0002.png
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ 02/
‚îÇ   ‚îî‚îÄ‚îÄ rgb/
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ ... (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ 01-12)
```

#### –®–∞–≥–∏:

1. **–ü–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç:**
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `MINI-RGBD_web/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –ò–ª–∏ —Å–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç —á–µ—Ä–µ–∑ volume –≤ `docker-compose.yml`

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ config.yaml:**
   - –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –¥–∞—Ç–∞—Å–µ—Ç—É: `data.mini_rgbd_path = "MINI-RGBD_web"`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (train/val/test sequences)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è (batch_size, num_epochs, learning_rate)

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:**
   ```bash
   docker compose exec web python train_advanced.py --config config.yaml --checkpoint checkpoints/best_model_advanced.pt
   ```

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è:**
   ```bash
   # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   docker compose logs -f web
   ```

5. **–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è:**
   - –ú–æ–¥–µ–ª–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `checkpoints/` –Ω–∞ —Ö–æ—Å—Ç–µ (–±–ª–∞–≥–æ–¥–∞—Ä—è volume)
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π:
     ```bash
     docker compose restart
     ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±—É—á–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ config.yaml** (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç—É 1)

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:**
   ```bash
   python train_advanced.py --config config.yaml --checkpoint checkpoints/best_model_advanced.pt
   ```

4. **–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è:**
   - –ú–æ–¥–µ–ª–∏ –±—É–¥—É—Ç –≤ `checkpoints/`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –¥–ª—è Docker –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è –≤ config.yaml:

```yaml
# –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (—É–º–µ–Ω—å—à–∏—Ç–µ –µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏ GPU)
training:
  batch_size: 16
  num_epochs: 50
  learning_rate: 0.001

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞
data:
  max_frames_per_seq: 100  # None = –≤—Å–µ –∫–∞–¥—Ä—ã
```

### –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è:

- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ GPU
- –û–±—ã—á–Ω–æ **2-6 —á–∞—Å–æ–≤** –Ω–∞ NVIDIA RTX 3080/3090
- –ú–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å `max_frames_per_seq` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –≤ –ø–∞–ø–∫–µ `checkpoints/` –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:
- `best_model_advanced.pt` - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å
- `anomaly_detector_advanced.pt` - –¥–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª–∏–π —Å –ø–æ—Ä–æ–≥–æ–º

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ –∏–º–µ–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º!

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

- [ ] Docker Desktop —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] NVIDIA GPU –¥–æ—Å—Ç—É–ø–µ–Ω (`nvidia-smi` —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] NVIDIA Container Toolkit —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (Linux) –∏–ª–∏ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (Windows)
- [ ] –§–∞–π–ª—ã –º–æ–¥–µ–ª–µ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `checkpoints/`:
  - [ ] `checkpoints/best_model_advanced.pt`
  - [ ] `checkpoints/anomaly_detector_advanced.pt`
- [ ] –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç `SECRET_KEY`
- [ ] –í—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (checkpoints, results, uploads, logs, auth)
- [ ] –ü–æ—Ä—Ç—ã 5000 —Å–≤–æ–±–æ–¥–Ω—ã –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã –≤ docker-compose.yml

---

**–ì–æ—Ç–æ–≤–æ! –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5000`**


# ИСПРАВЛЕНИЕ НОРМАЛИЗАЦИИ - СВОДКА

## Проблема

**До исправления:**
- Train hip_distance (сырые): 0.072221
- Video hip_distance (сырые): 0.170979
- Отношение: 2.37x

**После нормализации (деление на текущий hip_distance):**
- Train: hip_distance → 1.0
- Video: hip_distance → 1.0
- **НО**: абсолютные значения координат разные!

## Текущее исправление

Используем фиксированный `target_hip_distance = 0.072221` из тренировки.

**Логика:**
```python
normalized = (pose - torso_center) / target_hip_distance
```

**Результат:**
- Train: hip_distance после нормализации = 1.0 (0.072221 / 0.072221)
- Video: hip_distance после нормализации = 2.85 (0.205216 / 0.072221)

**Проблема:** Это неправильно! После нормализации hip_distance должен быть одинаковым.

## Правильное решение

Нужно использовать **статистики нормализованных данных** из тренировки, а не сырые hip_distance.

**Вариант 1:** Сохранить mean и std нормализованных координат из тренировки
**Вариант 2:** Использовать Z-score нормализацию вместо деления на hip_distance
**Вариант 3:** Переобучить модель с правильной нормализацией

## Текущий статус

- ✅ Код исправлен (использует target_hip_distance)
- ❌ Логика неправильная (hip_distance после нормализации разный)
- ❌ Ошибка реконструкции все еще высокая (3.326 vs 1.716)

## Следующие шаги

1. Вычислить статистики нормализованных данных из тренировки
2. Использовать эти статистики для нормализации при инференсе
3. Или переобучить модель с правильной нормализацией


{% extends "base.html" %}

{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <div>
            <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h1>
        </div>
        <div class="header-actions">
            <a href="{{ url_for('main') }}" class="btn-primary">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            <a href="{{ url_for('admin_dashboard') }}" class="btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–∞–Ω–µ–ª–∏</a>
        </div>
    </div>
    
    <div class="admin-table-container">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
                    <th>Email</th>
                    <th>–ü–æ–ª–Ω–æ–µ –∏–º—è</th>
                    <th>–†–æ–ª—å</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th>–°–æ–∑–¥–∞–Ω</th>
                    <th>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email or '-' }}</td>
                    <td>{{ user.full_name or '-' }}</td>
                    <td>
                        <span class="badge badge-{{ 'admin' if user.role == 'admin' else 'user' }}">
                            {{ user.role }}
                        </span>
                    </td>
                    <td>
                        <span class="badge badge-{{ 'success' if user.is_active else 'danger' }}">
                            {{ '–ê–∫—Ç–∏–≤–µ–Ω' if user.is_active else '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' }}
                        </span>
                    </td>
                    <td>{{ user.created_at or '-' }}</td>
                    <td>{{ user.last_login or '–ù–∏–∫–æ–≥–¥–∞' }}</td>
                    <td>
                        <a href="{{ url_for('admin_edit_user', user_id=user.id) }}" class="btn-action btn-edit">‚úèÔ∏è</a>
                        <form method="POST" action="{{ url_for('admin_delete_user', user_id=user.id) }}" 
                              style="display: inline;" 
                              onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ user.username }}?');">
                            <button type="submit" class="btn-action btn-delete">üóëÔ∏è</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
